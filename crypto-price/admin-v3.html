<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë§í¬ ê´€ë¦¬ - Admin v3 (ìˆ˜ì • ê¸°ëŠ¥ í¬í•¨)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #000;
            color: #fff;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: #0a0a0a;
            border-radius: 20px;
            padding: 30px;
            border: 1px solid #333;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            color: #fff;
        }

        .config-section {
            background: #1a1a1a;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border: 1px solid #333;
        }

        .config-section h3 {
            color: #aaa;
            margin-bottom: 15px;
        }

        input, select, button {
            padding: 10px;
            margin: 5px;
            border-radius: 5px;
            border: 1px solid #444;
            background: #222;
            color: #fff;
        }

        input {
            width: 300px;
        }

        button {
            cursor: pointer;
            background: #333;
            transition: background 0.3s;
        }

        button:hover {
            background: #444;
        }

        .add-form {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 30px;
            padding: 20px;
            background: #1a1a1a;
            border-radius: 10px;
        }

        .links-table {
            width: 100%;
            border-collapse: collapse;
        }

        .links-table th {
            background: #1a1a1a;
            padding: 15px;
            text-align: left;
            border-bottom: 2px solid #333;
        }

        .links-table tbody {
            background: #0a0a0a;
        }

        .links-table td {
            padding: 12px;
            border-bottom: 1px solid #333;
        }

        .links-table tr:hover {
            background: #1a1a1a;
        }

        .sortable-ghost {
            opacity: 0.4;
            background: #444 !important;
        }

        .drag-handle {
            cursor: move;
            color: #666;
            padding: 0 10px;
            font-size: 1.2em;
        }

        .drag-handle:hover {
            color: #fff;
        }

        .position-btn {
            background: #444;
            color: white;
            border: none;
            padding: 3px 8px;
            margin: 0 2px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.9em;
        }

        .position-btn:hover {
            background: #666;
        }

        .edit-btn {
            background: #2196f3;
            color: white;
            border: none;
            padding: 5px 15px;
            margin: 0 5px;
            border-radius: 5px;
            cursor: pointer;
        }

        .edit-btn:hover {
            background: #1976d2;
        }

        .delete-btn {
            background: #f44336;
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 5px;
            cursor: pointer;
        }

        .delete-btn:hover {
            background: #d32f2f;
        }

        .save-btn {
            background: #4caf50;
            color: white;
            border: none;
            padding: 5px 15px;
            margin: 0 5px;
            border-radius: 5px;
            cursor: pointer;
        }

        .save-btn:hover {
            background: #45a049;
        }

        .cancel-btn {
            background: #666;
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 5px;
            cursor: pointer;
        }

        .cancel-btn:hover {
            background: #555;
        }

        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            text-align: center;
        }

        .success {
            background: #4caf50;
        }

        .error {
            background: #f44336;
        }

        .info {
            background: #2196f3;
            color: white;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 10px;
        }

        a {
            color: #4ecdc4;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        .edit-input {
            padding: 5px;
            margin: 2px;
            border-radius: 3px;
            border: 1px solid #444;
            background: #333;
            color: #fff;
            width: 200px;
        }

        .edit-mode {
            background: #2a2a2a !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”— ë§í¬ ê´€ë¦¬ ì‹œìŠ¤í…œ v3</h1>
        
        <div class="info">
            ğŸ’¡ ê¸°ëŠ¥ ì•ˆë‚´:
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li>âœï¸ <strong>ìˆ˜ì •</strong>: ë§í¬ ì´ë¦„ê³¼ URL ì§ì ‘ ìˆ˜ì •</li>
                <li>ğŸ”„ <strong>ë“œë˜ê·¸ ì•¤ ë“œë¡­</strong>: â‰¡ ì•„ì´ì½˜ìœ¼ë¡œ ìˆœì„œ ë³€ê²½</li>
                <li>â¬†ï¸â¬‡ï¸ <strong>ë²„íŠ¼ ì´ë™</strong>: ìœ„/ì•„ë˜ ì´ë™</li>
                <li>â• <strong>ì¶”ê°€</strong>: ìƒˆ ë§í¬ ì¶”ê°€</li>
                <li>ğŸ—‘ï¸ <strong>ì‚­ì œ</strong>: ë§í¬ ì œê±°</li>
            </ul>
        </div>

        <div class="config-section">
            <h3>âš™ï¸ Supabase ì—°ê²° ìƒíƒœ</h3>
            <div id="connection-status">í™•ì¸ ì¤‘...</div>
        </div>

        <div class="add-form" style="margin-bottom: 20px;">
            <h3 style="width: 100%; margin-bottom: 10px;">ğŸ·ï¸ ì¹´í…Œê³ ë¦¬ ê´€ë¦¬</h3>
            <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                <input type="text" id="new-category-id" placeholder="ì¹´í…Œê³ ë¦¬ ID (ì˜ˆ: voucher)" style="flex: 1;">
                <input type="text" id="new-category-name" placeholder="í‘œì‹œ ì´ë¦„ (ì˜ˆ: Voucher)" style="flex: 1;">
                <button onclick="addCustomCategory()" style="background: #007bff;">ì¹´í…Œê³ ë¦¬ ì¶”ê°€</button>
            </div>
            <div id="custom-categories" style="font-size: 0.9em; color: #888;">
                ê¸°ë³¸ ì¹´í…Œê³ ë¦¬: youtube, favorite, gpt, fun-youtube
            </div>
        </div>

        <div class="add-form">
            <h3 style="width: 100%; margin-bottom: 10px;">â• ìƒˆ ë§í¬ ì¶”ê°€</h3>
            <input type="text" id="link-name" placeholder="ì´ë¦„ (ì˜ˆ: ì‚¬ë˜)">
            <input type="text" id="link-url" placeholder="URL (ì˜ˆ: https://...)">
            <select id="link-category">
                <option value="youtube">YouTube</option>
                <option value="favorite">Favorite</option>
                <option value="gpt">GPT Tools</option>
                <option value="fun-youtube">Fun YouTube</option>
            </select>
            <input type="number" id="link-position" placeholder="ìˆœì„œ (1, 2, 3...)" value="999">
            <button onclick="addNewLink()">ì¶”ê°€</button>
        </div>

        <div id="status-message"></div>

        <h2 style="margin-bottom: 20px;">ğŸ“‹ í˜„ì¬ ë§í¬ ëª©ë¡</h2>
        
        <div id="links-container">
            <p>ë¡œë”© ì¤‘...</p>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <a href="index.html" style="margin-right: 20px;">â† ë©”ì¸ í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°</a>
            <button onclick="signOut()" style="background: #dc3545; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">ë¡œê·¸ì•„ì›ƒ</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script src="config-loader.js"></script>
    <script src="auth-helper.js"></script>
    <script>
        let editingId = null;
        let customCategories = [];

        // localStorageì—ì„œ ì»¤ìŠ¤í…€ ì¹´í…Œê³ ë¦¬ ë¶ˆëŸ¬ì˜¤ê¸°
        function loadCustomCategories() {
            const saved = localStorage.getItem('customCategories');
            if (saved) {
                customCategories = JSON.parse(saved);
                updateCategoryDropdown();
                updateCategoryDisplay();
            }
        }

        // ì¹´í…Œê³ ë¦¬ ë“œë¡­ë‹¤ìš´ ì—…ë°ì´íŠ¸
        function updateCategoryDropdown() {
            const select = document.getElementById('link-category');
            
            // ì»¤ìŠ¤í…€ ì¹´í…Œê³ ë¦¬ ì˜µì…˜ ì¶”ê°€
            customCategories.forEach(cat => {
                if (!document.querySelector(`option[value="${cat.id}"]`)) {
                    const option = document.createElement('option');
                    option.value = cat.id;
                    option.textContent = cat.name;
                    select.appendChild(option);
                }
            });
        }

        // ì¹´í…Œê³ ë¦¬ í‘œì‹œ ì—…ë°ì´íŠ¸
        function updateCategoryDisplay() {
            const display = document.getElementById('custom-categories');
            const allCategories = [
                'youtube', 'favorite', 'gpt', 'fun-youtube',
                ...customCategories.map(c => c.id)
            ];
            display.innerHTML = `
                <div>ê¸°ë³¸ ì¹´í…Œê³ ë¦¬: youtube, favorite, gpt, fun-youtube</div>
                ${customCategories.length > 0 ? 
                    `<div>ì»¤ìŠ¤í…€ ì¹´í…Œê³ ë¦¬: ${customCategories.map(c => `${c.id} (${c.name})`).join(', ')}</div>` : 
                    ''}
            `;
        }

        // ì»¤ìŠ¤í…€ ì¹´í…Œê³ ë¦¬ ì¶”ê°€
        function addCustomCategory() {
            const idInput = document.getElementById('new-category-id');
            const nameInput = document.getElementById('new-category-name');
            
            const categoryId = idInput.value.trim().toLowerCase();
            const categoryName = nameInput.value.trim();
            
            if (!categoryId || !categoryName) {
                alert('ì¹´í…Œê³ ë¦¬ IDì™€ ì´ë¦„ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ì¤‘ë³µ ì²´í¬
            const existing = ['youtube', 'favorite', 'gpt', 'fun-youtube', ...customCategories.map(c => c.id)];
            if (existing.includes(categoryId)) {
                alert('ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì¹´í…Œê³ ë¦¬ IDì…ë‹ˆë‹¤.');
                return;
            }
            
            // ì¹´í…Œê³ ë¦¬ ì¶”ê°€
            customCategories.push({ id: categoryId, name: categoryName });
            localStorage.setItem('customCategories', JSON.stringify(customCategories));
            
            // UI ì—…ë°ì´íŠ¸
            updateCategoryDropdown();
            updateCategoryDisplay();
            
            // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
            idInput.value = '';
            nameInput.value = '';
            
            showStatus(`ì¹´í…Œê³ ë¦¬ '${categoryName}' (${categoryId})ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
        }

        // í˜ì´ì§€ ë¡œë“œì‹œ ì¸ì¦ í™•ì¸ í›„ ë§í¬ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
        window.addEventListener('DOMContentLoaded', async () => {
            // ì¸ì¦ í™•ì¸
            const hasAccess = await checkAdminAccess();
            if (!hasAccess) {
                return; // ì¸ì¦ ì‹¤íŒ¨ì‹œ admin-links.htmlë¡œ ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸ë¨
            }
            
            loadCustomCategories(); // ì»¤ìŠ¤í…€ ì¹´í…Œê³ ë¦¬ ë¡œë“œ
            updateCategoryDropdown(); // ì¹´í…Œê³ ë¦¬ ë“œë¡­ë‹¤ìš´ ì—…ë°ì´íŠ¸
            await checkConnection();
            await loadLinks();
        });

        // Supabase ì—°ê²° í™•ì¸
        async function checkConnection() {
            const statusElement = document.getElementById('connection-status');
            try {
                const { data, error } = await window.supabaseClient.from('links').select('count').limit(1);
                if (error) throw error;
                statusElement.innerHTML = '<span style="color: #4caf50;">âœ… ì—°ê²°ë¨</span>';
            } catch (error) {
                statusElement.innerHTML = `<span style="color: #f44336;">âŒ ì—°ê²° ì‹¤íŒ¨: ${error.message}</span>`;
            }
        }

        // ë§í¬ ëª©ë¡ ë¡œë“œ
        async function loadLinks() {
            const container = document.getElementById('links-container');
            
            try {
                const links = await fetchLinks();
                
                let html = '';
                
                // YouTube ë§í¬
                if (links.youtube.length > 0) {
                    html += '<h3 style="margin: 20px 0 10px;">ğŸ¬ YouTube</h3>';
                    html += createTable(links.youtube, 'youtube');
                }
                
                // Favorite ë§í¬
                if (links.favorites.length > 0) {
                    html += '<h3 style="margin: 20px 0 10px;">â­ Favorites</h3>';
                    html += createTable(links.favorites, 'favorite');
                }
                
                // GPT ë§í¬
                if (links.gpt.length > 0) {
                    html += '<h3 style="margin: 20px 0 10px;">ğŸ¤– GPT Tools</h3>';
                    html += createTable(links.gpt, 'gpt');
                }
                
                container.innerHTML = html || '<p>ë“±ë¡ëœ ë§í¬ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
                
                // ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì´ˆê¸°í™”
                initSortable();
            } catch (error) {
                container.innerHTML = `<p style="color: #f44336;">ì˜¤ë¥˜: ${error.message}</p>`;
            }
        }

        // í…Œì´ë¸” ìƒì„±
        function createTable(links, category) {
            let html = `<table class="links-table" data-category="${category}">`;
            html += '<thead><tr><th width="30">â‡…</th><th width="60">ìˆœì„œ</th><th>ì´ë¦„</th><th>URL</th><th width="120">ì¹´í…Œê³ ë¦¬</th><th width="250">ì‘ì—…</th></tr></thead>';
            html += `<tbody id="sortable-${category}">`;
            
            links.forEach(link => {
                html += `
                    <tr data-id="${link.id}" data-position="${link.position}" data-category="${link.category}" id="row-${link.id}">
                        <td class="drag-handle">â‰¡</td>
                        <td>${link.position || '-'}</td>
                        <td class="name-cell" id="name-${link.id}">${link.name}</td>
                        <td class="url-cell" id="url-${link.id}">
                            <a href="${link.url}" target="_blank">${link.url.substring(0, 50)}${link.url.length > 50 ? '...' : ''}</a>
                        </td>
                        <td class="category-cell" id="category-${link.id}" style="text-align: center; color: #888; font-size: 0.9em;">${link.category}</td>
                        <td class="action-cell" id="actions-${link.id}">
                            <button class="position-btn" onclick="moveUp(${link.id}, ${link.position}, '${category}')">â†‘</button>
                            <button class="position-btn" onclick="moveDown(${link.id}, ${link.position}, '${category}')">â†“</button>
                            <button class="edit-btn" onclick="editLink(${link.id}, '${link.name.replace(/'/g, "\\'").replace(/"/g, '&quot;')}', '${link.url.replace(/'/g, "\\'").replace(/"/g, '&quot;')}', '${link.category}')">ìˆ˜ì •</button>
                            <button class="delete-btn" onclick="removeLink(${link.id})">ì‚­ì œ</button>
                        </td>
                    </tr>
                `;
            });
            
            html += '</tbody></table>';
            return html;
        }

        // ì¹´í…Œê³ ë¦¬ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
        function getCategories() {
            const defaultCategories = [
                { id: 'youtube', name: 'YouTube' },
                { id: 'favorite', name: 'Favorite' },
                { id: 'gpt', name: 'GPT Tools' },
                { id: 'fun-youtube', name: 'Fun YouTube' }
            ];
            
            // localStorageì—ì„œ ì‚¬ìš©ì ì •ì˜ ì¹´í…Œê³ ë¦¬ ê°€ì ¸ì˜¤ê¸°
            const customCategories = JSON.parse(localStorage.getItem('customCategories') || '[]');
            
            return [...defaultCategories, ...customCategories];
        }

        // ë§í¬ ìˆ˜ì • ëª¨ë“œ
        function editLink(id, name, url, currentCategory) {
            // ì´ë¯¸ ë‹¤ë¥¸ í•­ëª©ì„ ìˆ˜ì • ì¤‘ì´ë©´ ì·¨ì†Œ
            if (editingId && editingId !== id) {
                cancelEdit(editingId);
            }

            editingId = id;
            const row = document.getElementById(`row-${id}`);
            row.classList.add('edit-mode');

            // ì´ë¦„ ì…€ì„ ì…ë ¥ í•„ë“œë¡œ ë³€ê²½
            document.getElementById(`name-${id}`).innerHTML = 
                `<input type="text" class="edit-input" id="edit-name-${id}" value="${name}">`;

            // URL ì…€ì„ ì…ë ¥ í•„ë“œë¡œ ë³€ê²½
            document.getElementById(`url-${id}`).innerHTML = 
                `<input type="text" class="edit-input" id="edit-url-${id}" value="${url}" style="width: 90%;">`;

            // ì¹´í…Œê³ ë¦¬ ì…€ì„ ì„ íƒ ë°•ìŠ¤ë¡œ ë³€ê²½
            const categories = getCategories();
            let categoryOptions = '';
            categories.forEach(cat => {
                categoryOptions += `<option value="${cat.id}" ${cat.id === currentCategory ? 'selected' : ''}>${cat.name}</option>`;
            });
            
            document.getElementById(`category-${id}`).innerHTML = 
                `<select class="edit-input" id="edit-category-${id}" style="width: 100px; background: #333; color: #fff; border: 1px solid #444;">
                    ${categoryOptions}
                </select>`;

            // ì‘ì—… ë²„íŠ¼ ë³€ê²½
            document.getElementById(`actions-${id}`).innerHTML = 
                `<button class="save-btn" onclick="saveEdit(${id})">ì €ì¥</button>
                 <button class="cancel-btn" onclick="cancelEdit(${id})">ì·¨ì†Œ</button>`;
        }

        // ìˆ˜ì • ì €ì¥
        async function saveEdit(id) {
            const newName = document.getElementById(`edit-name-${id}`).value;
            const newUrl = document.getElementById(`edit-url-${id}`).value;
            const newCategory = document.getElementById(`edit-category-${id}`).value;

            if (!newName || !newUrl || !newCategory) {
                showStatus('ì´ë¦„, URL, ì¹´í…Œê³ ë¦¬ë¥¼ ëª¨ë‘ ì…ë ¥í•˜ì„¸ìš”', 'error');
                return;
            }

            const result = await updateLink(id, { 
                name: newName, 
                url: newUrl, 
                category: newCategory 
            });
            
            if (result) {
                showStatus('ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                editingId = null;
                await loadLinks();
            } else {
                showStatus('ìˆ˜ì • ì‹¤íŒ¨', 'error');
            }
        }

        // ìˆ˜ì • ì·¨ì†Œ
        function cancelEdit(id) {
            editingId = null;
            loadLinks();
        }

        // ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì´ˆê¸°í™”
        function initSortable() {
            ['youtube', 'favorite', 'gpt', 'fun-youtube'].forEach(category => {
                const element = document.getElementById(`sortable-${category}`);
                if (element) {
                    new Sortable(element, {
                        handle: '.drag-handle',
                        animation: 150,
                        ghostClass: 'sortable-ghost',
                        onEnd: async function(evt) {
                            await updatePositions(category);
                        }
                    });
                }
            });
        }

        // ìˆœì„œ ì—…ë°ì´íŠ¸
        async function updatePositions(category) {
            const tbody = document.getElementById(`sortable-${category}`);
            if (!tbody) return;
            
            const rows = tbody.querySelectorAll('tr');
            const updates = [];
            
            rows.forEach((row, index) => {
                const id = row.dataset.id;
                const newPosition = index + 1;
                updates.push(updateLink(id, { position: newPosition }));
            });
            
            await Promise.all(updates);
            showStatus('ìˆœì„œê°€ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
            await loadLinks();
        }

        // ìœ„ë¡œ ì´ë™
        async function moveUp(id, currentPos, category) {
            if (currentPos <= 1) return;
            
            const { data: links } = await window.supabaseClient.from('links')
                .select('*')
                .eq('category', category)
                .order('position');
            
            const currentIndex = links.findIndex(l => l.id === id);
            if (currentIndex > 0) {
                const prevLink = links[currentIndex - 1];
                
                await updateLink(id, { position: prevLink.position });
                await updateLink(prevLink.id, { position: currentPos });
                
                await loadLinks();
            }
        }

        // ì•„ë˜ë¡œ ì´ë™
        async function moveDown(id, currentPos, category) {
            const { data: links } = await window.supabaseClient.from('links')
                .select('*')
                .eq('category', category)
                .order('position');
            
            const currentIndex = links.findIndex(l => l.id === id);
            if (currentIndex < links.length - 1) {
                const nextLink = links[currentIndex + 1];
                
                await updateLink(id, { position: nextLink.position });
                await updateLink(nextLink.id, { position: currentPos });
                
                await loadLinks();
            }
        }

        // ìƒˆ ë§í¬ ì¶”ê°€
        async function addNewLink() {
            const name = document.getElementById('link-name').value;
            const url = document.getElementById('link-url').value;
            const category = document.getElementById('link-category').value;
            const position = parseInt(document.getElementById('link-position').value) || 999;
            
            if (!name || !url) {
                showStatus('ì´ë¦„ê³¼ URLì„ ì…ë ¥í•˜ì„¸ìš”', 'error');
                return;
            }
            
            const result = await addLink(name, url, category, position);
            
            if (result) {
                showStatus('ë§í¬ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                document.getElementById('link-name').value = '';
                document.getElementById('link-url').value = '';
                document.getElementById('link-position').value = '999';
                await loadLinks();
            } else {
                showStatus('ì¶”ê°€ ì‹¤íŒ¨', 'error');
            }
        }

        // ë§í¬ ì‚­ì œ
        async function removeLink(id) {
            if (!confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;
            
            const result = await deleteLink(id);
            
            if (result) {
                showStatus('ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                await loadLinks();
            } else {
                showStatus('ì‚­ì œ ì‹¤íŒ¨', 'error');
            }
        }

        // ìƒíƒœ ë©”ì‹œì§€ í‘œì‹œ
        function showStatus(message, type) {
            const statusElement = document.getElementById('status-message');
            statusElement.className = `status ${type}`;
            statusElement.textContent = message;
            
            setTimeout(() => {
                statusElement.textContent = '';
                statusElement.className = '';
            }, 3000);
        }

        // ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ êµ¬ë…
        subscribeToLinks(async (payload) => {
            console.log('ë°ì´í„° ë³€ê²½ ê°ì§€:', payload);
            if (!editingId) {  // ìˆ˜ì • ì¤‘ì´ ì•„ë‹ ë•Œë§Œ ìë™ ìƒˆë¡œê³ ì¹¨
                await loadLinks();
            }
        });
    </script>
</body>
</html>