<!DOCTYPE html>
<html>
<head>
    <title>Quick Supabase Fix</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>Supabase Quick Fix</h1>
    <div id="result"></div>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        // 방법 1: 직접 window 객체에 할당
        window.SUPABASE_URL = 'https://ddfnxbkiewolgweivomv.supabase.co';
        window.SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRkZm54YmtpZXdvbGd3ZWl2b212Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE2MzI3NzYsImV4cCI6MjA2NzIwODc3Nn0.YCS2UH6YWarPX3C2ryFUUQnFA-3er_ZQomf_mccjmD8';
        
        // 방법 2: APP_CONFIG 객체 생성
        window.APP_CONFIG = {
            SUPABASE: {
                URL: window.SUPABASE_URL,
                ANON_KEY: window.SUPABASE_ANON_KEY
            }
        };
        
        // 방법 3: 직접 클라이언트 생성
        setTimeout(() => {
            if (window.supabase && window.supabase.createClient) {
                try {
                    window.supabaseClient = window.supabase.createClient(
                        window.SUPABASE_URL, 
                        window.SUPABASE_ANON_KEY
                    );
                    document.getElementById('result').innerHTML = '<h2 style="color: green;">✅ Success! Supabase client created</h2>';
                    
                    // 테스트
                    window.supabaseClient.from('links').select('count').limit(1).then(({data, error}) => {
                        if (error) {
                            document.getElementById('result').innerHTML += `<p style="color: red;">Query error: ${error.message}</p>`;
                        } else {
                            document.getElementById('result').innerHTML += '<p style="color: green;">Query success!</p>';
                        }
                    });
                    
                } catch (e) {
                    document.getElementById('result').innerHTML = `<h2 style="color: red;">❌ Error: ${e.message}</h2>`;
                }
            } else {
                document.getElementById('result').innerHTML = '<h2 style="color: red;">❌ Supabase SDK not loaded</h2>';
            }
        }, 1000);
    </script>
    
    <hr>
    <h2>Now open admin-v3.html</h2>
    <a href="admin-v3.html">Go to Admin Page</a>
</body>
</html>