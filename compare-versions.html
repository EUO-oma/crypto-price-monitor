<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>버전 비교: Original vs Modular</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0a0a;
            color: #fff;
            padding: 20px;
            margin: 0;
        }
        h1 {
            text-align: center;
            color: #4facfe;
        }
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        .version-box {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 10px;
            padding: 20px;
        }
        .version-box h2 {
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 2px solid #333;
        }
        .original { border-color: #ef4444; }
        .modular { border-color: #10b981; }
        .feature-list {
            list-style: none;
            padding: 0;
        }
        .feature-list li {
            padding: 8px 0;
            border-bottom: 1px solid #333;
        }
        .pro { color: #10b981; }
        .con { color: #ef4444; }
        .iframe-container {
            background: #000;
            border: 1px solid #444;
            border-radius: 5px;
            overflow: hidden;
            height: 600px;
            margin-top: 20px;
        }
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        .controls {
            text-align: center;
            margin: 30px 0;
        }
        button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 10px 30px;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 10px;
            font-size: 16px;
        }
        button:hover {
            background: #2563eb;
        }
        .recommendation {
            background: #1e40af;
            padding: 20px;
            border-radius: 10px;
            margin: 30px 0;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>📊 버전 비교: Original vs Modular</h1>
    
    <div class="comparison-grid">
        <div class="version-box original">
            <h2>🔴 Original (index.html)</h2>
            <h3>구조:</h3>
            <ul class="feature-list">
                <li>모든 기능이 하나의 파일에 통합</li>
                <li>전역 변수와 함수 사용</li>
                <li>WebSocket과 Supabase 코드 혼재</li>
            </ul>
            
            <h3>장점:</h3>
            <ul class="feature-list pro">
                <li>✓ 단순한 구조</li>
                <li>✓ 하나의 파일로 관리</li>
                <li>✓ 즉시 실행</li>
            </ul>
            
            <h3>단점:</h3>
            <ul class="feature-list con">
                <li>✗ 변수/함수 충돌 가능성</li>
                <li>✗ Supabase 초기화 타이밍 문제</li>
                <li>✗ 디버깅 어려움</li>
                <li>✗ 유지보수 복잡</li>
            </ul>
        </div>
        
        <div class="version-box modular">
            <h2>🟢 Modular (index-modular.html)</h2>
            <h3>구조:</h3>
            <ul class="feature-list">
                <li>Part1: 암호화폐 가격 (독립 모듈)</li>
                <li>Part2: Supabase 데이터 (독립 모듈)</li>
                <li>각 모듈은 자체 네임스페이스 사용</li>
            </ul>
            
            <h3>장점:</h3>
            <ul class="feature-list pro">
                <li>✓ 명확한 책임 분리</li>
                <li>✓ 변수/함수 충돌 없음</li>
                <li>✓ 독립적인 초기화</li>
                <li>✓ 디버깅 용이</li>
                <li>✓ 유지보수 간편</li>
            </ul>
            
            <h3>단점:</h3>
            <ul class="feature-list con">
                <li>✗ 약간 더 복잡한 구조</li>
                <li>✗ 모듈 간 통신 필요시 추가 작업</li>
            </ul>
        </div>
    </div>
    
    <div class="recommendation">
        <h2>💡 권장사항</h2>
        <p><strong>Modular 버전을 사용하세요!</strong></p>
        <p>사용자가 언급한 "파트2인 채팅과 supabase에서 데이터를 가져오는 부분에서 함수라던가, 변수가 겹치는 것 같아" 문제가 해결됩니다.</p>
    </div>
    
    <div class="controls">
        <button onclick="showOriginal()">Original 버전 보기</button>
        <button onclick="showModular()">Modular 버전 보기</button>
        <button onclick="showSideBySide()">나란히 보기</button>
    </div>
    
    <div id="preview-container"></div>
    
    <script>
        const container = document.getElementById('preview-container');
        
        function showOriginal() {
            container.innerHTML = `
                <h3 style="text-align: center; margin-top: 30px;">Original Version (index.html)</h3>
                <div class="iframe-container">
                    <iframe src="index.html"></iframe>
                </div>
            `;
        }
        
        function showModular() {
            container.innerHTML = `
                <h3 style="text-align: center; margin-top: 30px;">Modular Version (index-modular.html)</h3>
                <div class="iframe-container">
                    <iframe src="index-modular.html"></iframe>
                </div>
            `;
        }
        
        function showSideBySide() {
            container.innerHTML = `
                <h3 style="text-align: center; margin-top: 30px;">Side by Side Comparison</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div>
                        <h4 style="text-align: center;">Original</h4>
                        <div class="iframe-container">
                            <iframe src="index.html"></iframe>
                        </div>
                    </div>
                    <div>
                        <h4 style="text-align: center;">Modular</h4>
                        <div class="iframe-container">
                            <iframe src="index-modular.html"></iframe>
                        </div>
                    </div>
                </div>
            `;
        }
        
        // 초기 표시
        showModular();
    </script>
</body>
</html>